För dig som är utvecklare - Försäkringskassan
Kakor på Försäkringskassan
 
På forsakringskassan.se använder vi kakor (cookies) för att webbplatsen ska fungera så bra som möjligt för dig.
Vi använder också kakor för webbanalys för att göra webbplatsen bättre.
 
Så här använder Försäkringskassan kakor
 
Godkänner du att vi också använder kakor för webbanalys?
 
Ja, jag godkänner alla kakor
 
Nej, jag godkänner bara nödvändiga kakor
Gå till innehåll
Tänk på att...
Din webbläsare är av en äldre modell. Det innebär att du kanske inte kan använda alla funktioner på webbplatsen. Vi rekommenderar att du uppdaterar till en nyare version.
För dig som är utvecklare
Tjänsten LEFI Online står för "leverera förmånsinformation". Tjänsten tar emot frågor och utlämnar person- och förmånsinformation om efterfrågad person från Försäkringskassan och Pensionsmyndigheten. Den kan användas via två olika gränssnitt, webbgränssnitt och system till systemgränssnitt.
        System till systemgränssnitt
    
    
Målgruppen är externa partner som försäkringsbolag/försäkringsförmedlare, kommuner (huvudsakligen socialnämnden) och statliga myndigheter. För att få använda tjänsten krävs det att man har författningsstöd för att få uppgifterna utlämnade.
Elektroniska utlämnandet av uppgifter via system till system-gränssnittet bygger på att användande part har ett system och användargränssnitt som kan ställa frågor och ta emot svar. Användaren ställer en fråga via sitt verksamhetssystem som innehåller:
personnummer
val av informationstyper (detta innefattar en rad olika informationstyper, t ex förmåner, utbetalningar, mm, se OpenAPI-specifikation)
"från och med datum" och "till och med datum".
Verksamhetssystemet skickar därefter en fråga till tjänsten. LEFI Online hämtar person- och förmånsinformation från och med angivet datum, till och med angivet datum och för de informationstyper som mottagaren har angivit för personen, från både Försäkringskassan och Pensionsmyndigheten. Uppgifterna sammanställs och lämnas som svar tillbaka.
        Teknisk information
    
    
Versioner
Aktuella versioner av tjänsterna i LEFI Online i produktionsmiljö:
LEFI Förmånsinformation: 9.0.2
LEFI system-system kan finnas i 2‑3 major‑versioner. I webbgränssnittet är alltid senaste major-version av den synkrona tjänsten implementerad.
På sidan Releaseinformation presenteras alltid information om förändringar gällande versioner. Bland annat publiceras där information om kommande versioner.
Releaseinformation
Aktuella versioner av tjänsterna för LEFI Online Asynkron i produktionsmiljö:
LEFI Beställningsmottagare: 10.0.0
LEFI Beställningsleverantör: 10.0.0
Versionshantering
LEFI Online system till system använder sig av semantisk versionshantering, se för mer information om vad detta innebär.
https://semver.org/
 Länk till annan webbplats, öppnas i nytt fönster.
Versionshanteringen innebär följande:
Ändringshanteringen för tjänsten planeras mot 1‑2 major‑versioner per år.
Versionshanteringen stödjer 2 major‑versioner (gällande + föregående major-version).
Äldre major-version stöds i 1 år (end-of-life).
Det här innebär att när det kommer en ny major-version (version 2) av tjänsten stöds föregående (version 1) i 1 år från och med releasetillfället. Detta gäller såvida det inte under denna period kommer ytterligare en ny major-version (version 3), då slutar stödet för första major-versionen (version 1) i och med att den nyaste versionen releasas.
Som användare innebär det att man behöver i drift stödja nuvarande eller föregående major-version för att tjänsten ska fungera.
Syftet med denna versionshantering är att säkra en effektiv informationsförsörjning som ger möjligheter till:
kontrollerad ändringshantering,
möjlighet att införa icke-brytande förändringar (tillkommen information) utan att påverka konsumenterna,
rimlig tid för användare att anpassa sig till nya major‑versioner, samt
minskad risk att användare använder äldre major‑versioner, vilket skulle medföra att man missar tillkommen/ändrad information.
Teknisk dokumentation för version 9
För samtliga adresser är IP-nummer/DNS-namn: 194.71.65.44/fmansinfo.forsakringskassan.se
Inlämningsadress :
https://fmansinfo.forsakringskassan.se:7020/rest
 Länk till annan webbplats.
I nedanstående fil finner ni teknisk dokumentation om version 9 av LEFI Online. Den tekniska dokumentationen innehåller OpenAPI specifikation samt information om hur anslutning går till ur ett tekniskt perspektiv. Den tekniska dokumentationen är föränderlig och uppdateras vid behov t ex om det görs en minor- eller patchuppdatering av OpenAPI-specifikationen.
 LEFI Online version 9
 Zip, 31 kB, öppnas i nytt fönster.
Teknisk dokumentation för Lefi Asynkron
I nedanstående fil finner ni teknisk dokumentation om LEFI Online Asynkron.
LEFI Online Asynkron version 10
 Zip, 10 kB, öppnas i nytt fönster.
Checklista för anslutning till produktionsmiljö
Följande punkter måste utföras för att ansluta till produktionsmiljön:
1.
 Avtal för LEFI Online ska finnas, se 
Avtal och anslutning.
2. Aktörs‑id behövs för produktionsmiljön. Det tilldelas varje organisation av Försäkringskassan när avtal finns.
3
. Anrop ska ske med en https-klient, med tillhörande klient-certifikat, se rubriken ”Certifikat” ovan för betrodda certifikat.
4. 
Inlämningsadress till produktionsmiljön är: 
https://fmansinfo.forsakringskassan.se:7020/restLänk till annan webbplats.
 Länk till annan webbplats.
Själva OpenAPI-anropet läggs på efter inlämningsadress och produkttyp, t ex blir den fullständiga URL:en till hämta förmånsinformation följande: 
https://fmansinfo.forsakringskassan.se:7020/rest/FK.EXI.LevereraFormansinformation.V9/lefi-extern-formansinformation/v9/aktorer/{aktorsId}/formansinformation/fraga
 Länk till annan webbplats.
https://fmansinfo.forsakringskassan.se:7020/rest
 Länk till annan webbplats.
5.
 Kontrollera att headern ’Content‑Type: application/json’ är satt i anropet till tjänsten, annars går det fel redan i integrationen.
Vid tekniska problem under anslutning till produktionsmiljön behöver extern part ange följande information vid kommunikation med Försäkringskassan:
Organisationsnummer och -namn,
vilken URL som användes vid anropet, och då gärna hela anropet inkl samtliga headers och t ex body för ett POST-anrop,
tidpunkt när felet inträffade, ÅÅÅÅ‑MM‑DD TT:MM:SS, samt
ev felmeddelande och/eller felkod i svaret.
Teknisk dokumentation för versionerna 5, 6 och 7
Inlämningsadress för SSEK intressenter (till exempel försäkringsbolag):
https://fmansinfo.forsakringskassan.se/ssek/FK.EXA.Lefi.Fraga
 Länk till annan webbplats.
Inlämningsadress för WS intressenter (till exempel kommuner):
https://fmansinfo.forsakringskassan.se:7020/shs2
 Länk till annan webbplats.
https://fmansinfo.forsakringskassan.se:7020/ws
 Länk till annan webbplats.
XML-scheman
Länk till zipfiler
 Zip, 10 kB.
XMLfråga- och svarsfiler (exempel)
Xml.zip (zip med xml-filer)
 Zip, 36 kB, öppnas i nytt fönster.
WSDL-filer*
fkExaLefiHamtaFormansinformation_v4.wsdl
 Öppnas i nytt fönster.
EXAHamtaFormansinformation.wsdl
 Öppnas i nytt fönster.
(from version 5)
        Certifikat
    
    
Certifikathantering för produktion och test
FK IT har en säkerhetspolicy som gör att vi för tillfället enbart använder servercertifikat för produktion i samtliga externt uppkopplade miljöer.
Det måste inte vara samma certifikat som ska användas i produktion och test men det måste vara samma CA.
Godkända utgivare är Expisoft (tidigare Steria) och certifikat från Siths.
Expisoft (eid.expisoft.se)
 Länk till annan webbplats, öppnas i nytt fönster.
Identifieringstjänst Siths (inera.se)
 Länk till annan webbplats, öppnas i nytt fönster.
Gå in på eid.expisoft för instruktioner hur du beställer ett Steria/expisoft server certifikat.
Observera att FK IT inte supportar några certifikatfrågor. Tekniska frågor gällande certifikaten hänvisas till respektive CA utfärdare (Steria/expisoft i detta fall).
Certifikathantering Försäkringskassan
 Pdf, 538 kB, öppnas i nytt fönster.
        Testmiljö
    
    
Testmiljön för LEFI Online vänder sig till systemutvecklare för test av integrationer mot tjänsten. För slutanvändare hänvisas till stöd för användare.
Varför en testmiljö till LEFI Online?
Syftet med testmiljön är att stödja en kontrollerad och kvalitativ förändringshantering av tjänsten och de integrationer som finns mot tjänsten.
Genom testmiljön ges möjlighet att:
få en bättre bild av vad tjänsten LEFI Online innehåller och hur den fungerar, samt
utföra tester i form av kommunikations- och integrationstester.
Vad innehåller LEFI Onlines testmiljö och hur fungerar den?
Testmiljön innehåller de versioner som produktionsmiljön av tjänsten LEFI Online stödjer, det vill säga senaste version samt föregående version. Detta inkluderar uppdatering av minor- och patchversioner av tjänsterna i produktion.
Kommande version tillgängliggörs i testmiljön i tid innan den nya versionen driftsätts i produktionsmiljön.
Anropet och svaret görs enligt gällande schema för tjänsten LEFI Online. Testmiljön får endast användas för att utföra funktionella tester. Den är inte avsedd eller anpassad för att utföra prestanda- och lasttester.
Vilka testpersoner som finns i testmiljön beskrivs i filen under rubriken ”Teknisk dokumentation för version 9” nedan.
Hur ansluter man sig till LEFI Onlines testmiljö?
För att använda tjänsten LEFI Onlines testmiljö behöver man ansluta sig separat till denna testmiljö. Detta görs genom att fylla i
 
Kontaktformulär för LEFI Onlines testmiljö och skicka in till Försäkringskassan. Adressen finns i formuläret. Därefter kommer behövd information delges ansluten part.
Kontaktformulär för LEFI Onlines testmiljö
 Pdf, 704 kB, öppnas i nytt fönster.
Anslutningen handläggs i normalfallet inom 10 arbetsdagar från att kontaktformuläret inkommit till Försäkringskassan, under förutsättning att underlaget är komplett. Därefter sker återkoppling med behövd information till ansluten part.
Allmän information om LEFI Onlines testmiljö
Aktuella versioner av tjänsterna i LEFI Online i testmiljön:
LEFI Förmånsinformation: 9.0.2
För samtliga adresser är IP-nummer/DNS-namn: 194.71.80.30/shsext.forsakringskassan.se
Inlämningsadress till testmiljön för version 9 och framåt:
https://shsext.forsakringskassan.se:8200/rest
 Länk till annan webbplats, öppnas i nytt fönster.
Inlämningsadress för versionerna 5, 6 och 7:
https://shsext.forsakringskassan.se:8200/ws
 Länk till annan webbplats, öppnas i nytt fönster.
https://shsext.forsakringskassan.se:8200/shs2
 Länk till annan webbplats, öppnas i nytt fönster.
Aktuella versioner av tjänsterna för LEFI Online Asynkron i testmiljön:
LEFI Beställningsmottagare: 10.0.0
LEFI Beställningsleverantör: 10.0.0
Teknisk dokumentation för version 9
I nedanstående fil finner ni teknisk dokumentation om testmiljön för version 9 av LEFI Online. Den tekniska dokumentationen innehåller OpenAPI specifikation samt information om hur anslutning går till ur ett tekniskt perspektiv. Den tekniska dokumentationen är föränderlig och uppdateras vid behov.
 LEFI Online version 9
 Zip, 32 kB, öppnas i nytt fönster.
Teknisk dokumentation för Lefi Asynkron
I nedanstående fil finner ni teknisk dokumentation om testmiljön för LEFI Online Asynkron.
LEFI Online Asynkron version 10
 Zip, 11 kB, öppnas i nytt fönster.
Checklista för anslutning till testmiljö
Följande punkter måste utföras för att ansluta till testmiljön:
1. 
Anslutning till testmiljön ska göras genom att fylla i ett kontaktformulär för testmiljön. 
Undantag:
 
Om extern part redan är ansluten sedan tidigare, då behövs inte detta steg.
 Se rubriken ”Hur ansluter man sig till LEFI Onlines testmiljö?” för mer information.
2. 
Anrop ska ske med en https-klient, med tillhörande klient-certifikat, se rubriken ”Certifikat” ovan för betrodda certifikat.
3.
 Inlämningsadress till testmiljön är: 
https://shsext.forsakringskassan.se:8200/rest
 Länk till annan webbplats, öppnas i nytt fönster.
Själva OpenAPI-anropet läggs på efter inlämningsadress och produkttyp, t ex blir den fullständiga URL:en till hämta förmånsinformation följande: 
https://shsext.forsakringskassan.se:8200/rest/FK.EXI.LevereraFormansinformation.V9/lefi-extern-formansinformation/v9/aktorer/{aktorsId}/formansinformation/fraga
 Länk till annan webbplats, öppnas i nytt fönster.
4.
 Observera att aktörs-id endast tilldelas till produktionsmiljön. Det behövs inte för att ansluta till testmiljön. Det betyder att godtycklig sträng (som är tillåten i en URL) kan användas som aktörs-id.
5
. Kontrollera att headern ’Content-Type: application/json’ är satt i anropet till tjänsten, annars går det fel redan i integrationen.
Vid tekniska problem under anslutning till testmiljön behöver extern part ange följande information vid kommunikation med Försäkringskassan:
Organisationsnummer och -namn,
vilken URL som användes vid anropet, och då gärna hela anropet inkl samtliga headers och t ex body för ett POST‑anrop,
tidpunkt när felet inträffade, ÅÅÅÅ‑MM‑DD TT:MM:SS, samt
ev felmeddelande och/eller felkod i svaret.
Senast uppdaterad 
30 juni 2025